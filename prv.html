<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <style>
        /* Apliquem les variables NOMÉS dins d'aquest contenidor */
        #stic-awf-wrapper-FormId {
            
            /* 1. Definim els colors base de l'entitat */
            --awf-main-color: #B5BC31;
            --awf-main-rgb: 181, 188, 49; /* Calculat per PHP */
            
            /* 2. MAPEGEM a les variables de Bootstrap */
            
            /* Color Primari (Botons, links, inputs actius) */
            --bs-primary: var(--awf-main-color);
            --bs-primary-rgb: var(--awf-main-rgb);
            
            /* Color dels enllaços (per defecte BS usa primary, però per assegurar) */
            --bs-link-color: var(--awf-main-color);
            --bs-link-hover-color: var(--awf-main-color);
            
            /* Bordes i focus (Bootstrap 5.3 usa variables d'anell) */
            --bs-focus-ring-color: rgba(var(--awf-main-rgb), 0.25);

            /* Opcional: Border Radius (Més rodó o més quadrat) */
            --bs-border-radius: 0.5rem; 
            --bs-body-bg: #ffffff;
            --bs-body-color: #212529;
        }

        /* PETIT AJUST EXTRA PER A BOTONS:
           Bootstrap calcula els colors "hover" (foscos) usant SASS al compilar.
           Com que estem en temps d'execució, no tenim SASS. 
           Els botons primary funcionaran, però el "hover" potser no s'enfosqueix prou.
           Podem forçar-ho fàcilment:
        */
        #stic-awf-wrapper-FormId .btn-primary {
            --bs-btn-bg: var(--awf-main-color);
            --bs-btn-border-color: var(--awf-main-color);
            
            /* Truc: usem un filtre per enfosquir automàticament al hover */
            --bs-btn-hover-bg: var(--awf-main-color);
            --bs-btn-hover-border-color: var(--awf-main-color);
        }
        #stic-awf-wrapper-FormId .btn-primary:hover {
            filter: brightness(0.9); /* Enfosqueix un 10% qualsevol color */
        }
    </style>
  </head>
  <body class="bg-light py-5">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div id="stic-awf-wrapper-FormId">
                <form action="..." method="POST" x-data="{ d: {} }">
                    <div class="mb-3">
                    <label class="form-label">Nom</label>
                    <input type="text" name="Persona.nom" class="form-control" />
                    </div>

                    <div class="mb-3">
                    <label class="form-label">Tipus</label>
                    <select name="Persona.tipus" class="form-control" x-model="d['Persona.tipus']">
                        <option value="Particular">Particular</option>
                        <option value="Empresa">Empresa</option>
                    </select>
                    </div>

                    <div class="mb-3" x-show="d['Persona.tipus'] == 'Empresa'" style="display: none">
                    <label class="form-label">CIF Empresa</label>
                    <input type="text" name="Persona.cif" class="form-control" />
                    </div>

                    <button type="submit">Enviar</button>
                </form>
                <form
                    x-data="{ 
                                step: 1, 
                                formData: { 'Persona.nom': '', 'Persona.email': '' } 
                            }"
                    action="https://teu-crm.com/entryPoint..."
                    method="POST"
                    class="awf-form-card bg-white p-4"
                >
                    <h2 class="text-center mb-4">Inscripció Esdeveniment</h2>

                    <div x-show="step === 1" x-transition>
                    <div class="mb-3">
                        <label class="form-label">Nom</label>
                        <input type="text" class="form-control" x-model="formData['Persona.nom']" required />
                    </div>

                    <div class="mb-3" x-show="formData['Persona.nom'].length > 0" x-transition>
                        <label class="form-label">Email</label>
                        <input type="email" class="form-control" x-model="formData['Persona.email']" />
                    </div>

                    <button type="button" class="btn btn-primary w-100" @click="step = 2">Següent</button>
                    </div>

                    <div x-show="step === 2" style="display: none" x-transition>
                    <div class="alert alert-info">Revisa les teves dades...</div>

                    <div class="d-flex gap-2">
                        <button type="button" class="btn btn-secondary" @click="step = 1">Enrere</button>
                        <button type="submit" class="btn btn-success flex-fill">Enviar</button>
                    </div>
                    </div>
                </form>
            </div>
        </div>
      </div>
    </div>
  </body>
</html>
